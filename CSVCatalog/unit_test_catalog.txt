unit_test_catalog.txt

Some example test outputs:

-----------------------------------------------------------------------------------
create_table_test()
/Users/arapeterson/Desktop/Databases/HW2b/HW2/bin/python /Users/arapeterson/Desktop/Databases/HW2/unit_test_catalog.py
Running save core definition
Q =  insert into csvtables values(%s, %s)

Process finished with exit code 0
-----------------------------------------------------------------------------------

column_name_failure_test()
/Users/arapeterson/Desktop/Databases/HW2b/HW2/bin/python /Users/arapeterson/Desktop/Databases/HW2/unit_test_catalog.py
Traceback (most recent call last):
issue!!
  File "/Users/arapeterson/Desktop/Databases/HW3/unit_test_catalog.py", line 50, in <module>
    column_name_failure_test()
  File "/Users/arapeterson/Desktop/Databases/HW3/unit_test_catalog.py", line 45, in column_name_failure_test
    col = CSVCatalog.ColumnDefinition(None, "text", False)
  File "/Users/arapeterson/Desktop/Databases/HW3/CSVCatalog.py", line 37, in __init__
    raise ValueError('You must have a column name!!')
ValueError: You must have a column name!!

Process finished with exit code 1

-----------------------------------------------------------------------------------

table_test()
/Users/yangyi/.conda/envs/dbstudy/bin/python "/Users/yangyi/Columbia/学习资料/W4111-Intorduction to Databases/local_repository/CSVCatalog/unit_test_catalog.py"
Reset database
Q =  delete from csvindexes
Q =  delete from csvcolumns
Q =  delete from csvtables
Test creating table
Running save core definition
Q =  insert into csvtables values(%s, %s)
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
Table =  {
  "table_name": "test_table",
  "file_name": "./Appearances.csv"
}
Describe test table
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
DESCRIBE test_table = 
 {
  "table_name": "test_table",
  "file_name": "./Appearances.csv"
}
Test dropping table
Q =  DELETE FROM csvtables WHERE table_name = 'test_table'
Table 'test_table' was dropped
Drop test_table

Process finished with exit code 0

-----------------------------------------------------------------------------------

column_and_index_test()
/Users/yangyi/.conda/envs/dbstudy/bin/python "/Users/yangyi/Columbia/学习资料/W4111-Intorduction to Databases/local_repository/CSVCatalog/unit_test_catalog.py"
Reset database
Q =  delete from csvindexes
Q =  delete from csvcolumns
Q =  delete from csvtables
Create  test table
Running save core definition
Q =  insert into csvtables values(%s, %s)
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
Table =  {
  "table_name": "test_table",
  "file_name": "./Appearances.csv"
}
Test Adding column
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
Q =  insert into csvcolumns values(%s, %s, %s, %s)
Test Adding index
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
Q =  insert into csvindexes (table_name, column_name, type, index_name, index_order)  values(%s, %s, %s, %s, %s)
Describe test table
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
in the index if statement
DESCRIBE test_table = 
 {
  "table_name": "test_table",
  "file_name": "./Appearances.csv",
  "columns": [
    {
      "column_name": "test_column",
      "column_type": "text",
      "not_null": false
    }
  ],
  "indexes": [
    {
      "index_name": "test_index",
      "type": "INDEX",
      "columns": [
        "test_column"
      ]
    }
  ]
}
Test dropping index
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
Running drop index
Q =  delete from csvindexes where table_name = 'test_table' and index_name = 'test_index'
Test dropping column
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
Q =  delete from csvcolumns where table_name = 'test_table' and column_name = 'test_column'
Column 'test_column' has been dropped!
Describe test table
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
DESCRIBE test_table = 
 {
  "table_name": "test_table",
  "file_name": "./Appearances.csv"
}
Drop test table
Q =  DELETE FROM csvtables WHERE table_name = 'test_table'
Table 'test_table' was dropped
Drop test_table

Process finished with exit code 0

-----------------------------------------------------------------------------------

column_failure_tests()
/Users/yangyi/.conda/envs/dbstudy/bin/python "/Users/yangyi/Columbia/学习资料/W4111-Intorduction to Databases/local_repository/CSVCatalog/unit_test_catalog.py"
Reset database
Q =  delete from csvindexes
Q =  delete from csvcolumns
Q =  delete from csvtables
Create a test table
Running save core definition
Q =  insert into csvtables values(%s, %s)
Running load core definition
Q =  select * from csvtables where table_name = 'test_table'
Running load columns
Q =  select * from csvcolumns where table_name = 'test_table'
Running load indexes
Q =  select * from csvindexes where table_name = 'test_table' group by index_name, table_name, type, column_name, index_order order by index_order
Table =  {
  "table_name": "test_table",
  "file_name": "./Appearances.csv"
}
Test column name failure
issue!!
An error happened:  You must have a column name!!
Test column type failure
Issue!
An error happened:  That column type is not accepted. Please try again.
Test column not null failure
issue!
An error happened:  The not_null column must be either True or False! Please try again.

Process finished with exit code 0
